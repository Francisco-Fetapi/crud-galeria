{"version":3,"sources":["Fotos.js","Footer.js","API.js","Loading.js","App.js","index.js"],"names":["Fotos","fotos","url_base","apagar_foto","abrirModal","Grid","spacing","container","className","map","foto","k","item","xs","sm","md","Card","length","CardMedia","image","nome","CardContent","Typography","varaint","color","legenda","substring","CardActions","style","justifyContent","Tooltip","arrow","title","IconButton","onClick","id","component","target","href","Box","marginTop","align","variant","Footer","display","API_ROOT","API_BASE","Fetch","info","a","prop","method","dados","FormData","append","fetch","body","res","json","API","API_URL","obter_fotos","controller","funcao","cadastrar_foto","data","ficheiro","id_foto","alterar_legenda","Loading","aberto","Backdrop","open","zIndex","alignItems","flexDirection","CircularProgress","App","useState","setFotos","iniciando","setIniciando","requisitou","setRequisitou","text","error","helperText","setLegenda","dark","setDark","fotoSelecionada","setFotoSelecionada","modal","setModal","tipo","conteudo","msg","setMsg","inputFile","useRef","terminarRequisicao","e","file","current","files","setAttribute","type","includes","size","tamanho","toFixed","enviarRequisicao","Date","data_final","getFullYear","getMonth","getDate","name","informar","status","value","segundos","abrirMSG","fecharMSG","fecharModal","useEffect","theme","createMuiTheme","palette","primary","main","ThemeProvider","position","width","LinearProgress","minHeight","CssBaseline","marginBottom","onDoubleClick","ref","TextField","onChange","InputLabelProps","shrink","label","Button","disabled","fontSize","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","Alert","severity","Dialog","fullWidth","DialogTitle","DialogContent","DialogActions","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1a93c25d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Box from '@material-ui/core/Box';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\n// ICONES\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport RemoveRedEye from '@material-ui/icons/RemoveRedEye';\r\n\r\nfunction Fotos({fotos,url_base,apagar_foto,abrirModal}) {\r\n    return (\r\n        <>\r\n        <Grid spacing={2} container className=\"fotos\">\r\n            {\r\n            fotos.map((foto,k)=>(\r\n                <Grid item xs={12} sm={6} md={4} key={foto.legenda}>\r\n                    <Card className={`card ${k===fotos.length-1?'ultimaFoto':''}`}>\r\n                        <CardMedia image={`${url_base}/Img/${foto.nome}`} className=\"cardFoto\"/>\r\n                        <CardContent>\r\n                            <Typography varaint=\"h6\" color=\"textSecondary\">\r\n                                {foto.legenda.substring(0,30)}\r\n                                {foto.legenda.length > 30?'...':''}\r\n                            </Typography>\r\n                        </CardContent>\r\n                        <CardActions style={{justifyContent:'flex-end'}}>\r\n                            <Tooltip arrow title=\"Apagar foto\">\r\n                                <IconButton onClick={()=>apagar_foto(foto.id)}>\r\n                                    <Delete />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                            <Tooltip arrow title=\"Editar legenda da foto\">\r\n                                <IconButton onClick={()=>abrirModal(foto.id,foto.legenda)}>\r\n                                    <Edit />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                            <Tooltip arrow title=\"Ver esta foto\">\r\n                                <IconButton component=\"a\" target=\"__blank\" href={`${url_base}/Img/${foto.nome}`}>\r\n                                    <RemoveRedEye />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </CardActions>\r\n                    </Card>\r\n                </Grid>\r\n            ))\r\n            \r\n            }\r\n        </Grid>\r\n        {fotos.length === 0 &&\r\n            <Box marginTop={2}>\r\n                <Typography align=\"center\" variant=\"h6\" color=\"textSecondary\">\r\n                    Seja o primeiro a enviar uma foto!\r\n                </Typography>\r\n            </Box>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Fotos\r\n","import React from 'react'\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <Box className=\"footer\" display=\"flex\" justifyContent=\"center\">\r\n            <Typography variant=\"subtitle1\">\r\n                Francisco Fetapi - Todos os direitos reservados\r\n            </Typography>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","const HOST = 'http://localhost';\r\nconst API_ROOT = `${HOST}/galeria`;\r\nconst API_BASE = `${API_ROOT}/Controllers/`;\r\n\r\nasync function Fetch(info,method = \"POST\"){\r\n    const dados = new FormData();\r\n\r\n    for(let prop in info){\r\n        dados.append(prop,info[prop]);\r\n    }\r\n\r\n    let res = await fetch(API_BASE,{\r\n        method,\r\n        body:dados\r\n    })\r\n\r\n    res = await res.json();\r\n\r\n    return res;\r\n}\r\nconst API = {\r\n    API_URL:API_ROOT,\r\n    async obter_fotos(){\r\n        let res = await Fetch({\r\n            controller:'Galeria',\r\n            funcao:'obter_fotos'\r\n        });\r\n\r\n        return res;\r\n    },\r\n    async cadastrar_foto(legenda,nome,data,ficheiro){\r\n        let res = await Fetch({\r\n            controller:'Galeria',\r\n            funcao:'cadastrar_foto',\r\n            legenda,\r\n            nome,\r\n            data,\r\n            ficheiro\r\n        });\r\n\r\n        return res;\r\n    },\r\n    async apagar_foto(id_foto){\r\n        let res = await Fetch({\r\n            controller:'Galeria',\r\n            funcao:'apagar_foto',\r\n            id_foto\r\n        });\r\n\r\n        return res;\r\n    },\r\n    async alterar_legenda(id,legenda){\r\n        let res = await Fetch({\r\n            controller:'Galeria',\r\n            funcao:'alterar_legenda',\r\n            id_foto:id,\r\n            legenda\r\n        });\r\n\r\n        return res;\r\n    }\r\n}\r\n\r\nexport default API;","import React from 'react'\r\nimport Backdrop from '@material-ui/core/Backdrop'\r\nimport Box from '@material-ui/core/Box'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nfunction Loading({aberto}) {\r\n    return (\r\n        <Backdrop open={aberto} style={{zIndex:9}} className=\"backdrop\">\r\n            <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\r\n                <Box>\r\n                    <CircularProgress />\r\n                </Box>\r\n                <Box marginTop={2}>\r\n                    <Typography color=\"textSecondary\" variant=\"subtitle2\">Aguarde um pouco...</Typography>\r\n                </Box>\r\n            </Box>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import './App.css';\nimport React, { useRef, useState,useEffect } from 'react';\n\n// Do Material-UI\nimport CssBaseline from '@material-ui/core/CssBaseLine'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Box from '@material-ui/core/Box'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ThemeProvider from '@material-ui/styles/ThemeProvider'\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\n\n\n// Meus componentes personalizados\nimport Fotos from './Fotos';\nimport Footer from './Footer';\nimport API from './API';\nimport Loading from './Loading';\nimport Alert from '@material-ui/lab/Alert';\n\n\nfunction App() {\n\n  const [fotos,setFotos] = useState([]);\n  const [iniciando,setIniciando] = useState(true);\n  const [requisitou,setRequisitou] = useState(false);\n  const [legenda,setLegenda] = useState({\n    text:'',\n    error:false,\n    helperText:''\n  });\n  const [dark,setDark] = useState(true);\n  const [fotoSelecionada,setFotoSelecionada] = useState({\n    legenda:'',\n    id:null\n  });\n  const [modal,setModal] = useState(false);\n  const [msg,setMsg] = useState({\n    tipo:'success',\n    aberto:false,\n    conteudo:''\n  });\n  const inputFile = useRef();\n  useEffect(()=>{\n    obter_fotos();\n  },[]);\n\n  async function obter_fotos(){\n    let res = await API.obter_fotos();\n    setFotos(res.dados);\n    if(iniciando) setIniciando(false);\n    \n    terminarRequisicao();\n  }\n  \n  function mudarLegenda(e){\n    let error;\n    let helperText;\n    if(legenda.error && legenda.text){\n      error = false;\n      helperText = '';\n    }\n    setLegenda({...legenda,helperText,error,text:e.target.value});\n  }\n  async function enviarFoto(e){\n    const file = inputFile.current.files[0];\n    e.target.setAttribute('disabled','disabled');\n\n    if(!file || !legenda.text.length>0){\n      setLegenda({...legenda,helperText:'Legenda e/ou Ficheiro invalidos!',error:true}) \n      return false;\n    }\n    if(!file.type.includes('image')){ //nao eh uma imagem\n      setLegenda({...legenda,helperText:'Este arquivo não é uma imagem!',error:true}) \n      return false;\n    }\n    if(file.size/1024 > 1024){\n      const tamanho = file.size/(1024**2);\n\n      const size = `${tamanho.toFixed(2)} MB`;\n      setLegenda({...legenda,helperText:`Este arquivo tem ${size} e por isso é pesado demais!`,error:true}) \n      return false;\n    } // eh maior que um MB\n\n    enviarRequisicao();\n    const data = new Date();\n    const data_final = `${data.getFullYear()}/${data.getMonth()+1}/${data.getDate()}`;\n\n    const res = await API.cadastrar_foto(legenda.text,file.name,data_final,file)\n    informar(res);\n    if(res.status){\n      obter_fotos();\n      setLegenda({...legenda,text:''});\n      inputFile.current.value = '';\n    } \n  }\n  function informar(res){\n    let tipo = 'success';\n    if(!res.status){\n      tipo = 'error';\n    }\n    abrirMSG(res.msg,tipo,2);\n  }\n  async function apagar_foto(id_foto){\n    enviarRequisicao();\n    const res = await API.apagar_foto(id_foto);\n    informar(res);\n    obter_fotos();\n  }\n  function fecharMSG(){\n    setMsg({...msg,aberto:false,conteudo:''});\n  }\n  function abrirMSG(conteudo,tipo,segundos){\n    setMsg({tipo,conteudo,aberto:true});\n    // setTimeout(fecharMSG,segundos*1000)\n  }\n  function fecharModal(){\n    setModal(false);\n  }\n  function abrirModal(id,legenda){\n    setModal(true);\n    setFotoSelecionada({legenda,id})\n  }\n  function mudarLegendaFotoSelecionada(e){\n    setFotoSelecionada({...fotoSelecionada,legenda:e.target.value});\n  }\n  async function alterarLegenda(){\n    enviarRequisicao();\n    const {id,legenda} = fotoSelecionada;\n\n    const res = await API.alterar_legenda(id,legenda);\n    informar(res);\n\n    obter_fotos();\n    fecharModal();\n  }\n  function enviarRequisicao(){\n    setRequisitou(true);\n  }\n  function terminarRequisicao(){\n    setRequisitou(false);\n  }\n  function mudarTema(){\n    setDark(!dark);\n  }\n\n  const theme = createMuiTheme({\n    palette:{\n      type:dark ? 'dark':'light',\n      primary:{\n        main:dark?'#4561fb':'#3f51b5'\n      }\n    }\n  })\n  return (\n    <ThemeProvider theme={theme}>\n      {requisitou && \n        <Box position=\"fixed\" width=\"100%\">\n          <LinearProgress />\n        </Box>\n      }\n      <Box className={`App ${dark?'dark':''}`} display=\"flex\" flexDirection=\"column\" minHeight=\"100vh\" justifyContent=\"center\">\n        <CssBaseline />\n\n        <Box className={`form ${legenda.error?'erro':''}`} marginBottom=\"30px\">\n          <Box display=\"flex\" justifyContent=\"center\">\n            <Typography className=\"titulo_main\" variant=\"h6\">Compartilhe alguma foto</Typography>\n          </Box>\n          <Box className=\"campos\" onDoubleClick={mudarTema} display=\"flex\" flexDirection=\"column\">\n              <input type=\"file\" ref={inputFile}/>\n              <br />\n              <TextField helperText={legenda.helperText} error={legenda.error} value={legenda.text} onChange={mudarLegenda} size=\"small\" InputLabelProps={{shrink:true}} label=\"Digite alguma legenda\"/>\n              <br />\n              <Box display=\"flex\" justifyContent=\"center\">\n                <Button variant=\"contained\" disabled={requisitou} color=\"primary\" onClick={enviarFoto}>Enviar Foto</Button>\n              </Box>\n          </Box>\n          <Box marginTop={2}>\n            <Typography align=\"center\" style={{fontSize:13}} color=\"textSecondary\"><b>2 cliques</b> consecutivos no quadro acima <b>altera o tema da aplicação!</b></Typography>\n          </Box>\n        </Box>\n\n        <Fotos fotos={fotos} abrirModal={abrirModal} apagar_foto={apagar_foto} url_base={API.API_URL}/>\n      </Box>\n    <Footer />\n    <Snackbar autoHideDuration={1500} anchorOrigin={{vertical:'bottom',horizontal:'left'}} open={msg.aberto} onClose={fecharMSG}>\n      <Alert severity={msg.tipo} onClose={fecharMSG}>\n        {msg.conteudo}\n      </Alert>\n    </Snackbar>\n\n    <Dialog fullWidth open={modal} onClose={fecharModal}>\n      <DialogTitle>Alterar Legenda</DialogTitle>\n      <DialogContent>\n      <TextField fullWidth helperText={fotoSelecionada.helperText} error={fotoSelecionada.error} value={fotoSelecionada.legenda} onChange={mudarLegendaFotoSelecionada} size=\"small\" InputLabelProps={{shrink:true}} label=\"Digite alguma legenda\"/>\n      </DialogContent>\n      <DialogActions>\n        <Button size=\"small\" color=\"primary\" variant=\"text\" onClick={alterarLegenda}>Guardar</Button>\n        <Button size=\"small\" color=\"primary\" variant=\"text\" onClick={fecharModal}>Voltar</Button>\n      </DialogActions>\n    </Dialog>\n\n    <Loading aberto={iniciando}/>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}